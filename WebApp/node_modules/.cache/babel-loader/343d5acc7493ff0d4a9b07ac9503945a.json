{"ast":null,"code":"import _regeneratorRuntime from\"/home/asitha/Documents/Mobile Apps/elly/WebApp/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/asitha/Documents/Mobile Apps/elly/WebApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/asitha/Documents/Mobile Apps/elly/WebApp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{makeStyles}from'@material-ui/core/styles';import AppBar from'@material-ui/core/AppBar';import Toolbar from'@material-ui/core/Toolbar';import Typography from'@material-ui/core/Typography';import DialogTitle from'@material-ui/core/DialogTitle';import Dialog from'@material-ui/core/Dialog';import IconButton from'@material-ui/core/IconButton';import AccountCircleIcon from'@material-ui/icons/AccountCircle';import TextField from'@material-ui/core/TextField';import Menu from'@material-ui/core/Menu';import MenuItem from'@material-ui/core/MenuItem';import Button from'@material-ui/core/Button';import{auth}from\"../../firebase\";import Swal from\"sweetalert2\";var useStyles=makeStyles(function(theme){return{menuButton:{marginRight:theme.spacing(2)},title:{flexGrow:1,marginLeft:5},appBar:{zIndex:theme.zIndex.drawer+1,backgroundColor:'green'},avatar:{resizeMode:'stretch',width:50,height:50}};});export var Header=function Header(){var classes=useStyles();var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),open=_React$useState4[0],setOpen=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),oldPwdErr=_React$useState6[0],setOldPwdErr=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),newPwdErr=_React$useState8[0],setNewPwdErr=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),confirmPwdErr=_React$useState10[0],setConfirmPwdErr=_React$useState10[1];var _React$useState11=React.useState(''),_React$useState12=_slicedToArray(_React$useState11,2),oldPwd=_React$useState12[0],setOldPwd=_React$useState12[1];var _React$useState13=React.useState(''),_React$useState14=_slicedToArray(_React$useState13,2),newPwd=_React$useState14[0],setNewPwd=_React$useState14[1];var _React$useState15=React.useState(''),_React$useState16=_slicedToArray(_React$useState15,2),confirmPwd=_React$useState16[0],setConfirmPwd=_React$useState16[1];var passwordPattern=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@_#$%^&*])(?=.{8,})/;var checkOldPassword=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return auth.doSignInWithEmailAndPassword(auth.currentUser().email,oldPwd);case 3:response=_context.sent;user=JSON.parse(JSON.stringify(response)).user;// console.log(JSON.parse(JSON.stringify(response)).user)\nif(!(user!==null)){_context.next=8;break;}// console.log(\"Valid\")\nsetOldPwdErr(false);return _context.abrupt(\"return\",true);case 8:_context.next=15;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);setOldPwdErr(true);return _context.abrupt(\"return\",false);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function checkOldPassword(){return _ref.apply(this,arguments);};}();var validPassword=function validPassword(){if(newPwd.match(passwordPattern)){setNewPwdErr(false);return true;}setNewPwdErr(true);return false;};var passwordsMatch=function passwordsMatch(){if(confirmPwd.match(newPwd)){setConfirmPwdErr(false);return true;}setConfirmPwdErr(true);return false;};var handleOldPwd=function handleOldPwd(text){// console.log(text.target.value)\nsetOldPwd(text.target.value);};var handleNewPwd=function handleNewPwd(text){// console.log(text.target.value)\nsetNewPwd(text.target.value);};var handleConfirmPwd=function handleConfirmPwd(text){// console.log(text.target.value)\nsetConfirmPwd(text.target.value);};var handleCloseDialog=function handleCloseDialog(){setOpen(false);};var handleClickOpenDialog=function handleClickOpenDialog(){setOpen(true);};var handleClick=function handleClick(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var changePassword=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(checkOldPassword()&&validPassword()&&passwordsMatch())){_context2.next=11;break;}_context2.prev=1;_context2.next=4;return auth.updatePassword(newPwd);case 4:handleCloseDialog();Swal.fire(\"Suucessfull!\",\"Your password has been updated.\",\"success\");// console.log(JSON.stringify(response))\n_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function changePassword(){return _ref2.apply(this,arguments);};}();var signOut=function signOut(e){if(e&&e.preventDefault){e.preventDefault();}return auth.doSignOut().then(function(response){console.log(\"successfully signed out\",response);}).catch(function(err){console.log(\"failed to sign out\",err);});};return React.createElement(AppBar,{position:\"fixed\",className:classes.appBar},React.createElement(Toolbar,null,React.createElement(\"img\",{alt:\"logo\",className:classes.avatar,src:require(\"../../images/logo.png\")}),React.createElement(Typography,{className:classes.title,variant:\"button\",display:\"block\",gutterBottom:true},\"Elly - Admin\"),React.createElement(Menu,{id:\"simple-menu\",anchorEl:anchorEl,keepMounted:true,open:Boolean(anchorEl),onClose:handleClose},React.createElement(MenuItem,{onClick:handleClickOpenDialog},\"Password Reset\"),React.createElement(MenuItem,{onClick:signOut},\"Logout\")),React.createElement(IconButton,{\"aria-controls\":\"simple-menu\",\"aria-haspopup\":\"true\",onClick:handleClick,style:{backgroundColor:'white'}},React.createElement(AccountCircleIcon,null)),React.createElement(Dialog,{onClose:handleCloseDialog,\"aria-labelledby\":\"simple-dialog-title\",open:open},React.createElement(DialogTitle,{id:\"simple-dialog-title\"},\"Reset Password\"),React.createElement(TextField,{type:\"password\",helperText:oldPwdErr?'Old password is wrong':'',error:oldPwdErr,onChange:function onChange(text){return handleOldPwd(text);},value:oldPwd,style:{margin:10,width:500},id:\"outlined-basic\",variant:\"outlined\",label:\"Old Password\"}),React.createElement(TextField,{type:\"password\",helperText:newPwdErr?'Password should contain minimum 8 characters with at least one uppercase, one lowercase and one special charcter(!@_#$%^&*).':'',error:newPwdErr,onChange:function onChange(text){return handleNewPwd(text);},value:newPwd,style:{margin:10,width:500},id:\"outlined-basic\",variant:\"outlined\",label:\"New Password\"}),React.createElement(TextField,{type:\"password\",helperText:confirmPwdErr?'Passwords does not match':'',error:confirmPwdErr,onChange:function onChange(text){return handleConfirmPwd(text);},value:confirmPwd,style:{margin:10,width:500},id:\"outlined-basic\",variant:\"outlined\",label:\"Confirm Password\"}),React.createElement(Button,{style:{margin:10,width:500},onClick:changePassword,variant:\"contained\",color:\"primary\"},\"RESET\"))));};","map":{"version":3,"sources":["/home/asitha/Documents/Mobile Apps/elly/WebApp/src/components/header/Header.js"],"names":["React","makeStyles","AppBar","Toolbar","Typography","DialogTitle","Dialog","IconButton","AccountCircleIcon","TextField","Menu","MenuItem","Button","auth","Swal","useStyles","theme","menuButton","marginRight","spacing","title","flexGrow","marginLeft","appBar","zIndex","drawer","backgroundColor","avatar","resizeMode","width","height","Header","classes","useState","anchorEl","setAnchorEl","open","setOpen","oldPwdErr","setOldPwdErr","newPwdErr","setNewPwdErr","confirmPwdErr","setConfirmPwdErr","oldPwd","setOldPwd","newPwd","setNewPwd","confirmPwd","setConfirmPwd","passwordPattern","checkOldPassword","doSignInWithEmailAndPassword","currentUser","email","response","user","JSON","parse","stringify","console","log","validPassword","match","passwordsMatch","handleOldPwd","text","target","value","handleNewPwd","handleConfirmPwd","handleCloseDialog","handleClickOpenDialog","handleClick","event","currentTarget","handleClose","changePassword","updatePassword","fire","signOut","e","preventDefault","doSignOut","then","catch","err","require","Boolean","margin"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport TextField from '@material-ui/core/TextField';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport { auth } from \"../../firebase\";\nimport Swal from \"sweetalert2\";\n\nconst useStyles = makeStyles(theme => ({\n menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n    marginLeft: 5\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    backgroundColor: 'green'\n  },\n  avatar: {\n    resizeMode: 'stretch',\n    width: 50,\n    height: 50,\n  }\n}));\n\nexport const Header =()=>{\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [open, setOpen] = React.useState(false);\n  const [oldPwdErr, setOldPwdErr] = React.useState(false)\n  const [newPwdErr, setNewPwdErr] = React.useState(false)\n  const [confirmPwdErr, setConfirmPwdErr] = React.useState(false)\n  const [oldPwd, setOldPwd] = React.useState('');\n  const [newPwd, setNewPwd] = React.useState('');\n  const [confirmPwd, setConfirmPwd] = React.useState('');\n  const passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@_#$%^&*])(?=.{8,})/\n\n  const checkOldPassword = async () => {\n    // console.log(auth.currentUser().email)\n    try{\n      let response = await auth.doSignInWithEmailAndPassword(auth.currentUser().email, oldPwd)\n      let user = JSON.parse(JSON.stringify(response)).user\n    // console.log(JSON.parse(JSON.stringify(response)).user)\n      if(user!==null){\n        // console.log(\"Valid\")\n        setOldPwdErr(false)\n        return true\n      }\n      // console.log(user)\n    }catch(err){\n      console.log(err)\n      setOldPwdErr(true)\n      return false\n    }\n    \n  }\n\n  const validPassword = ()=> {\n    if(newPwd.match(passwordPattern)){\n      setNewPwdErr(false)\n      return true\n    }\n    setNewPwdErr(true)\n    return false\n  }\n\n  const passwordsMatch = () => {\n    if(confirmPwd.match(newPwd)){\n      setConfirmPwdErr(false)\n      return true\n    }\n    setConfirmPwdErr(true)\n    return false\n  }\n\n  const handleOldPwd = (text) => {\n    // console.log(text.target.value)\n    setOldPwd(text.target.value)\n  }\n\n  const handleNewPwd = (text) => {\n    // console.log(text.target.value)\n    setNewPwd(text.target.value)\n  }\n\n  const handleConfirmPwd = (text) => {\n    // console.log(text.target.value)\n    setConfirmPwd(text.target.value)\n  }\n\n  const handleCloseDialog = () => {\n    setOpen(false);\n  };\n\n  const handleClickOpenDialog = () => {\n    setOpen(true);\n  };\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const changePassword = async () => {\n    if(checkOldPassword()&&validPassword()&&passwordsMatch()){\n      try{\n        await auth.updatePassword(newPwd)\n        handleCloseDialog()\n        Swal.fire(\"Suucessfull!\", \"Your password has been updated.\", \"success\");\n        // console.log(JSON.stringify(response))\n      }catch(err){\n        console.log(err)\n      }\n    }\n  }\n \n  const signOut = e => {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n\n    return auth\n      .doSignOut()\n      .then(response => {\n        console.log(\"successfully signed out\", response);\n      })\n      .catch(err => {\n        console.log(\"failed to sign out\", err);\n      });\n  };\n  return  <AppBar position=\"fixed\" className={classes.appBar}>\n            <Toolbar>\n                <img alt='logo' className={classes.avatar} src={require(\"../../images/logo.png\")}/>\n                <Typography className={classes.title} variant=\"button\" display=\"block\" gutterBottom>\n                Elly - Admin\n                </Typography>\n                <Menu\n                  id=\"simple-menu\"\n                  anchorEl={anchorEl}\n                  keepMounted\n                  open={Boolean(anchorEl)}\n                  onClose={handleClose}\n                >\n                  <MenuItem onClick={handleClickOpenDialog}>Password Reset</MenuItem>\n                  <MenuItem onClick={signOut}>Logout</MenuItem>\n                </Menu>\n                <IconButton aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick} style={{backgroundColor: 'white'}}>\n                  <AccountCircleIcon />\n                </IconButton>\n                <Dialog onClose={handleCloseDialog} aria-labelledby=\"simple-dialog-title\" open={open}>\n                  <DialogTitle id=\"simple-dialog-title\">Reset Password</DialogTitle>\n                  <TextField type='password' helperText={oldPwdErr?'Old password is wrong':''} error={oldPwdErr} onChange={(text)=>handleOldPwd(text)} value={oldPwd} style={{margin: 10, width: 500}} id=\"outlined-basic\" variant=\"outlined\" label=\"Old Password\" />\n                  <TextField type='password' helperText={newPwdErr?'Password should contain minimum 8 characters with at least one uppercase, one lowercase and one special charcter(!@_#$%^&*).':''} error={newPwdErr} onChange={(text)=>handleNewPwd(text)} value={newPwd} style={{margin: 10, width: 500}} id=\"outlined-basic\" variant=\"outlined\" label=\"New Password\" />\n                  <TextField type='password' helperText={confirmPwdErr?'Passwords does not match':''} error={confirmPwdErr} onChange={(text)=>handleConfirmPwd(text)} value={confirmPwd} style={{margin: 10, width: 500}} id=\"outlined-basic\" variant=\"outlined\" label=\"Confirm Password\" />\n                  <Button style={{margin: 10, width: 500}} onClick={changePassword} variant=\"contained\" color=\"primary\">RESET</Button>\n                </Dialog>\n            </Toolbar>\n          </AppBar>\n}"]},"metadata":{},"sourceType":"module"}