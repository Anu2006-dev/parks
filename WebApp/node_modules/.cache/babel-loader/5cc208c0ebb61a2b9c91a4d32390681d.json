{"ast":null,"code":"import _slicedToArray from \"/home/asitha/Documents/Mobile Apps/elly/WebApp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/asitha/Documents/Mobile Apps/elly/WebApp/src/components/header/Header.js\";\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport TextField from '@material-ui/core/TextField';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport { auth } from \"../../firebase\";\nconst useStyles = makeStyles(theme => ({\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    flexGrow: 1,\n    marginLeft: 5\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    backgroundColor: 'green'\n  },\n  avatar: {\n    resizeMode: 'stretch',\n    width: 50,\n    height: 50\n  }\n}));\nexport const Header = () => {\n  const classes = useStyles();\n\n  const _React$useState = React.useState(null),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        anchorEl = _React$useState2[0],\n        setAnchorEl = _React$useState2[1];\n\n  const _React$useState3 = React.useState(false),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        open = _React$useState4[0],\n        setOpen = _React$useState4[1];\n\n  const _React$useState5 = React.useState(''),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        oldPwd = _React$useState6[0],\n        setOldPwd = _React$useState6[1];\n\n  const _React$useState7 = React.useState(''),\n        _React$useState8 = _slicedToArray(_React$useState7, 2),\n        newPwd = _React$useState8[0],\n        setNewPwd = _React$useState8[1];\n\n  const _React$useState9 = React.useState(''),\n        _React$useState10 = _slicedToArray(_React$useState9, 2),\n        confirmPwd = _React$useState10[0],\n        setConfirmPwd = _React$useState10[1];\n\n  const passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@_#$%^&*])(?=.{8,})/;\n\n  const checkOldPassword = async () => {\n    console.log(auth.currentUser().email);\n\n    try {\n      let response = await auth.doSignInWithEmailAndPassword(auth.currentUser().email, oldPwd);\n      let user = JSON.parse(JSON.stringify(response)).user; // console.log(JSON.parse(JSON.stringify(response)).user)\n\n      if (user !== null) {\n        console.log(\"Valid\");\n        return true;\n      }\n\n      console.log(user);\n    } catch (err) {\n      console.log(err);\n      return false;\n    }\n  };\n\n  const validPassword = () => {\n    return newPwd.match(passwordPattern);\n  };\n\n  const passwordsMatch = () => {\n    return newPwd.match(confirmPwd);\n  };\n\n  const handleOldPwd = text => {\n    // console.log(text.target.value)\n    setOldPwd(text.target.value);\n  };\n\n  const handleNewPwd = text => {\n    console.log(text.target.value);\n    setNewPwd(text.target.value);\n  };\n\n  const handleConfirmPwd = text => {\n    console.log(text.target.value);\n    setConfirmPwd(text.target.value);\n  };\n\n  const handleCloseDialog = () => {\n    setOpen(false);\n  };\n\n  const handleClickOpenDialog = () => {\n    setOpen(true);\n  };\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const changePassword = () => {\n    if (checkOldPassword() && validPassword() && passwordsMatch()) {\n      try {\n        let response = auth.currentUser.updatePassword(newPwd);\n        console.log(JSON.stringify(response));\n      } catch (err) {}\n    }\n  };\n\n  const signOut = e => {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n\n    return auth.doSignOut().then(response => {\n      console.log(\"successfully signed out\", response);\n    }).catch(err => {\n      console.log(\"failed to sign out\", err);\n    });\n  };\n\n  return React.createElement(AppBar, {\n    position: \"fixed\",\n    className: classes.appBar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"logo\",\n    className: classes.avatar,\n    src: require(\"../../images/logo.png\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }), React.createElement(Typography, {\n    className: classes.title,\n    variant: \"button\",\n    display: \"block\",\n    gutterBottom: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"Elly - Admin\"), React.createElement(Menu, {\n    id: \"simple-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    onClick: handleClickOpenDialog,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, \"Password Reset\"), React.createElement(MenuItem, {\n    onClick: signOut,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, \"Logout\")), React.createElement(IconButton, {\n    \"aria-controls\": \"simple-menu\",\n    \"aria-haspopup\": \"true\",\n    onClick: handleClick,\n    style: {\n      backgroundColor: 'white'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(AccountCircleIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  })), React.createElement(Dialog, {\n    onClose: handleCloseDialog,\n    \"aria-labelledby\": \"simple-dialog-title\",\n    open: open,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(DialogTitle, {\n    id: \"simple-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, \"Reset Password\"), React.createElement(TextField, {\n    onChange: text => handleOldPwd(text),\n    value: oldPwd,\n    style: {\n      margin: 10,\n      width: 500\n    },\n    id: \"outlined-basic\",\n    variant: \"outlined\",\n    label: \"Old Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    onChange: text => handleNewPwd(text),\n    value: newPwd,\n    style: {\n      margin: 10,\n      width: 500\n    },\n    id: \"outlined-basic\",\n    variant: \"outlined\",\n    label: \"New Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    onChange: text => handleConfirmPwd(text),\n    value: confirmPwd,\n    style: {\n      margin: 10,\n      width: 500\n    },\n    id: \"outlined-basic\",\n    variant: \"outlined\",\n    label: \"Confirm Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }), React.createElement(Button, {\n    style: {\n      margin: 10,\n      width: 500\n    },\n    onClick: changePassword,\n    variant: \"contained\",\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, \"RESET\"))));\n};","map":{"version":3,"sources":["/home/asitha/Documents/Mobile Apps/elly/WebApp/src/components/header/Header.js"],"names":["React","makeStyles","AppBar","Toolbar","Typography","DialogTitle","Dialog","IconButton","AccountCircleIcon","TextField","Menu","MenuItem","Button","auth","useStyles","theme","menuButton","marginRight","spacing","title","flexGrow","marginLeft","appBar","zIndex","drawer","backgroundColor","avatar","resizeMode","width","height","Header","classes","useState","anchorEl","setAnchorEl","open","setOpen","oldPwd","setOldPwd","newPwd","setNewPwd","confirmPwd","setConfirmPwd","passwordPattern","checkOldPassword","console","log","currentUser","email","response","doSignInWithEmailAndPassword","user","JSON","parse","stringify","err","validPassword","match","passwordsMatch","handleOldPwd","text","target","value","handleNewPwd","handleConfirmPwd","handleCloseDialog","handleClickOpenDialog","handleClick","event","currentTarget","handleClose","changePassword","updatePassword","signOut","e","preventDefault","doSignOut","then","catch","require","Boolean","margin"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport TextField from '@material-ui/core/TextField';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport { auth } from \"../../firebase\";\n\nconst useStyles = makeStyles(theme => ({\n menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n    marginLeft: 5\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    backgroundColor: 'green'\n  },\n  avatar: {\n    resizeMode: 'stretch',\n    width: 50,\n    height: 50,\n  }\n}));\n\nexport const Header =()=>{\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [open, setOpen] = React.useState(false);\n  const [oldPwd, setOldPwd] = React.useState('');\n  const [newPwd, setNewPwd] = React.useState('');\n  const [confirmPwd, setConfirmPwd] = React.useState('');\n  const passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@_#$%^&*])(?=.{8,})/\n\n  const checkOldPassword = async () => {\n    console.log(auth.currentUser().email)\n    try{\n      let response = await auth.doSignInWithEmailAndPassword(auth.currentUser().email, oldPwd)\n      let user = JSON.parse(JSON.stringify(response)).user\n    // console.log(JSON.parse(JSON.stringify(response)).user)\n      if(user!==null){\n        console.log(\"Valid\")\n        return true\n      }\n      console.log(user)\n    }catch(err){\n      console.log(err)\n      return false\n    }\n    \n  }\n\n  const validPassword = ()=> {\n    return newPwd.match(passwordPattern)\n  }\n\n  const passwordsMatch = () => {\n    return newPwd.match(confirmPwd)\n  }\n\n  const handleOldPwd = (text) => {\n    // console.log(text.target.value)\n    setOldPwd(text.target.value)\n  }\n\n  const handleNewPwd = (text) => {\n    console.log(text.target.value)\n    setNewPwd(text.target.value)\n  }\n\n  const handleConfirmPwd = (text) => {\n    console.log(text.target.value)\n    setConfirmPwd(text.target.value)\n  }\n\n  const handleCloseDialog = () => {\n    setOpen(false);\n  };\n\n  const handleClickOpenDialog = () => {\n    setOpen(true);\n  };\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const changePassword = () => {\n    if(checkOldPassword()&&validPassword()&&passwordsMatch()){\n      try{\n        let response = auth.currentUser.updatePassword(newPwd)\n        console.log(JSON.stringify(response))\n      }catch(err){\n\n      }\n    }\n  }\n \n  const signOut = e => {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n\n    return auth\n      .doSignOut()\n      .then(response => {\n        console.log(\"successfully signed out\", response);\n      })\n      .catch(err => {\n        console.log(\"failed to sign out\", err);\n      });\n  };\n  return  <AppBar position=\"fixed\" className={classes.appBar}>\n            <Toolbar>\n                <img alt='logo' className={classes.avatar} src={require(\"../../images/logo.png\")}/>\n                <Typography className={classes.title} variant=\"button\" display=\"block\" gutterBottom>\n                Elly - Admin\n                </Typography>\n                <Menu\n                  id=\"simple-menu\"\n                  anchorEl={anchorEl}\n                  keepMounted\n                  open={Boolean(anchorEl)}\n                  onClose={handleClose}\n                >\n                  <MenuItem onClick={handleClickOpenDialog}>Password Reset</MenuItem>\n                  <MenuItem onClick={signOut}>Logout</MenuItem>\n                </Menu>\n                <IconButton aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick} style={{backgroundColor: 'white'}}>\n                  <AccountCircleIcon />\n                </IconButton>\n                <Dialog onClose={handleCloseDialog} aria-labelledby=\"simple-dialog-title\" open={open}>\n                  <DialogTitle id=\"simple-dialog-title\">Reset Password</DialogTitle>\n                  <TextField onChange={(text)=>handleOldPwd(text)} value={oldPwd} style={{margin: 10, width: 500}} id=\"outlined-basic\" variant=\"outlined\" label=\"Old Password\" />\n                  <TextField onChange={(text)=>handleNewPwd(text)} value={newPwd} style={{margin: 10, width: 500}} id=\"outlined-basic\" variant=\"outlined\" label=\"New Password\" />\n                  <TextField onChange={(text)=>handleConfirmPwd(text)} value={confirmPwd} style={{margin: 10, width: 500}} id=\"outlined-basic\" variant=\"outlined\" label=\"Confirm Password\" />\n                  <Button style={{margin: 10, width: 500}} onClick={changePassword} variant=\"contained\" color=\"primary\">RESET</Button>\n                </Dialog>\n            </Toolbar>\n          </AppBar>\n}"]},"metadata":{},"sourceType":"module"}